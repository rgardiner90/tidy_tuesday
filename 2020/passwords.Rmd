---
title: "passwords"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(DT)
library(tidyverse)

passwords <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-14/passwords.csv')
```

Column {data-width=650}
-----------------------------------------------------------------------

### Is Your Password Popular?

```{r}
passwords %>%
  select(rank, password, strength, offline_crack_sec) %>%
  filter(!is.na(password)) %>%
  datatable(colnames = c("Rank", "Password", "Password Strength",
                         "Seconds to Crack"),
            rownames = FALSE)
```

Column {data-width=350}
-----------------------------------------------------------------------

### Password Strength by Category

```{r}
passwords %>%
  mutate(length = nchar(password)) %>%
  group_by(category) %>%
  summarise(avg_strength = mean(strength, na.rm = TRUE),
            std_strength = sd(strength, na.rm = TRUE),
            sd_lower = avg_strength - std_strength,
            sd_upper = avg_strength + std_strength) %>%
  ungroup() %>%
  mutate(category = fct_reorder(str_to_title(category), avg_strength)) %>%
  filter(!is.na(category)) %>%
  ggplot(aes(x = category, y = avg_strength,
             ymin = sd_lower, ymax = sd_upper)) +
  geom_point() +
  geom_errorbar() +
  coord_flip() +
  theme_minimal() +
  labs(x = "Password Category", y = "Average Password Strength",
       title = "Average Password Strength by Category",
       subtitle = "Error Bars are 1 Standard Deviation Above/Below the Mean")
```

### Chart C

```{r}

```

